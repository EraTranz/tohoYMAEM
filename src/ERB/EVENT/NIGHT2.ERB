;========================================================
;イベントにおけるセックス処理を一纏めにするファイル
;=========================================================
;=======================================================================
;
;細分化された夜這い行動の経験、珠取得処理。及び主人の能力判定呼び出し
;
;=======================================================================
;細分化された処理をいちいちEVENT_NIGHT1に書き足していくと
;実に読みづらくなると思われるため、処理はこのファイルで一括して行う事にする。
;
;============================
;奴隷の竿
;============================
;----------------------------
;強制素股
;----------------------------
@NIGHT_SEX_0, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;02絶頂経験
	CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		LOCAL = ARG:1*ABL:(LOCAL:1):0/6
		CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
		;LUNATIC以上は射精するたびに体力が減少
		CALL EXHAUST_EJAC, LOCAL:1, LOCAL
	ENDIF
	;04精液経験
	SIF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;23キス経験
	CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
	;44B快楽経験
	SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):3/2), 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		IF LOCAL:1 == ARG
			SIF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
		ENDIF
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;Ｖに挿入する
;----------------------------
@NIGHT_SEX_1, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;00Ｖ経験
	SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1, 0
	;02絶頂経験
	IF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):1/6), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 == ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):1/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ELSE
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		IF LOCAL:2 == ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):1/6), 0
			IF LOCAL:1 != MASTER && COM_ABLE_CHECK_FEMALE(LOCAL:1) && ARG:1*ABL:(LOCAL:2):1/6 > 0
				C_NUMBER = MAX(RAND:(ARG:1*ABL:(LOCAL:2):1/6 + 1), 0)
				CFLAG:(LOCAL:1):3666 += C_NUMBER
				CALL CALCULATE_LIMIT, LOCAL:1
			ENDIF
		ELSE
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
			IF LOCAL:1 != MASTER && COM_ABLE_CHECK_FEMALE(LOCAL:1) && ARG:1*ABL:(LOCAL:2):0/6 > 0
				C_NUMBER = MAX(RAND:(ARG:1*ABL:(LOCAL:2):0/6 + 1), 0)
				CFLAG:(LOCAL:1):3666 += C_NUMBER
				CALL CALCULATE_LIMIT, LOCAL:1
			ENDIF
		ENDIF
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;23キス経験
	CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
	;44B快楽経験
	SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):3/2), 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):1), 0
		;01快Ｖ
		SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
			CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):1)*(1+ABL:(LOCAL:2):12), 0
		;02快Ａ
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):2)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		IF LOCAL:1 == ARG
			SIF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
		ENDIF
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;Ａに挿入する
;----------------------------
@NIGHT_SEX_2, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;01Ａ経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 1, ARG:1, 0
	;02絶頂経験
	IF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):2/6), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 == ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):2/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ELSE
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		IF LOCAL:2 == ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):2/6), 0
		ELSE
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
		ENDIF
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;23キス経験
	CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
	;30苦痛快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 30, ARG:1*ABL:(LOCAL:1):21*(6-ABL:(LOCAL:1):2), 0
	;43Ａ快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 43, ARG:1*ABL:(LOCAL:1):2, 0
	;44B快楽経験
	SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):3/2), 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):2), 0
		;02快Ａ
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):2)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		IF LOCAL:1 == ARG
			SIF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
		ENDIF
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;胸ファック
;----------------------------
@NIGHT_SEX_3, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;02絶頂経験
	IF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):3/6), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 == ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):3/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ELSE
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		IF LOCAL:2 == ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):3/6), 0
		ELSE
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
		ENDIF
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;44Ｂ快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):3, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		IF LOCAL:1 == ARG
			IF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
			ELSE
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
			ENDIF
		ENDIF
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;イマラチオ
;----------------------------
@NIGHT_SEX_4, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;02絶頂経験
	IF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):31*ABL:(LOCAL:2):0/36), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 == ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):31*ABL:(LOCAL:2):0/36
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ELSE
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		IF LOCAL:2 == ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):31*ABL:(LOCAL:1):0/36), 0
		ELSE
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
		ENDIF
	ENDIF
;	;08精飲絶頂経験
;	SIF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
;		CALL COMMON_UP_EXP, LOCAL:1, 8, (ARG:1*ABL:(LOCAL:1):31*ABL:(LOCAL:2):0/36), 0
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;22フェラ経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 22, ARG:1, 0
	;30苦痛快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 30, (ARG:1*ABL:(LOCAL:1):21*(6-ABL:(LOCAL:1):31)), 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;素股して貰う
;----------------------------
@NIGHT_SEX_10, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;02絶頂経験
	CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		LOCAL = ARG:1*ABL:(LOCAL:1):0/6
		CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
		;LUNATIC以上は射精するたびに体力が減少
		CALL EXHAUST_EJAC, LOCAL:1, LOCAL
	ENDIF
	;04精液経験
	SIF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;20奉仕快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):0, 0
	;23キス経験
	CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
	;44Ｂ快楽経験
	SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):3/2), 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		IF LOCAL:1 == ARG
			SIF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
		ENDIF
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 == TARGET
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;Ｖにいれさせて貰う
;----------------------------
@NIGHT_SEX_11, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;00Ｖ経験
	SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1, 0
	;02絶頂経験
	IF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):1/6), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 == ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):1/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ELSE
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		IF LOCAL:2 == ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):1/6), 0
			IF LOCAL:1 != MASTER && COM_ABLE_CHECK_FEMALE(LOCAL:1) && ARG:1*ABL:(LOCAL:2):1/6 > 0
				C_NUMBER = MAX(RAND:(ARG:1*ABL:(LOCAL:2):1/6 + 1), 0)
				CFLAG:(LOCAL:1):3666 += C_NUMBER
				CALL CALCULATE_LIMIT, LOCAL:1
			ENDIF
		ELSE
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
			IF LOCAL:1 != MASTER && COM_ABLE_CHECK_FEMALE(LOCAL:1) && ARG:1*ABL:(LOCAL:2):0/6 > 0
				C_NUMBER = MAX(RAND:(ARG:1*ABL:(LOCAL:2):0/6 + 1), 0)
				CFLAG:(LOCAL:1):3666 += C_NUMBER
				CALL CALCULATE_LIMIT, LOCAL:1
			ENDIF
		ENDIF
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;20奉仕快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):1, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;01快Ｖ
		SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
			CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):1)*(1+ABL:(LOCAL:2):12), 0
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 == TARGET
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;Ａにいれさせて貰う
;----------------------------
@NIGHT_SEX_12, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;01Ａ経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 1, ARG:1, 0
	;02絶頂経験
	IF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):2/6), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 == ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):2/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ELSE
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		IF LOCAL:2 == ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):2/6), 0
		ELSE
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
		ENDIF
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;20奉仕快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):2, 0
	;30苦痛快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 30, ARG:1*ABL:(LOCAL:1):21*(6-ABL:(LOCAL:1):2), 0
	;43Ａ快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 43, ARG:1*ABL:(LOCAL:1):2, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;02快Ａ
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):2)*(1+ABL:(LOCAL:2):12), 0
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 == TARGET
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;パイズリして貰う
;----------------------------
@NIGHT_SEX_13, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;02絶頂経験
	IF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):3/6), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 == ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):3/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ELSE
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		IF LOCAL:2 == ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):3/6), 0
		ELSE
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
		ENDIF
	ENDIF
;	;08精飲絶頂経験
;	SIF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
;		CALL COMMON_UP_EXP, LOCAL:1, 8, (ARG:1*ABL:(LOCAL:1):31*ABL:(LOCAL:2):0/72), 0
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;20奉仕快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):3, 0
	;22フェラ経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 22, ARG:1/2, 0
	;44Ｂ快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):3, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		IF LOCAL:1 == ARG
			IF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
			ELSE
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
			ENDIF
		ENDIF
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 == TARGET
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;フェラしてもらう
;----------------------------
@NIGHT_SEX_14, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;02絶頂経験
	IF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):31*ABL:(LOCAL:2):0/36), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 == ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):31*ABL:(LOCAL:2):0/36
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ELSE
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		IF LOCAL:2 == ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):31*ABL:(LOCAL:1):0/36), 0
		ELSE
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
		ENDIF
	ENDIF
;	;08精飲絶頂経験
;	SIF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
;		CALL COMMON_UP_EXP, LOCAL:1, 8, (ARG:1*ABL:(LOCAL:1):31*ABL:(LOCAL:2):0/36), 0
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;20奉仕快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):31, 0
	;22フェラ経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 22, ARG:1, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 == TARGET
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;手淫して貰う
;----------------------------
@NIGHT_SEX_15, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;02絶頂経験
	SIF LOCAL:1 == TARGET
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 != ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		IF LOCAL:2 != ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
		ENDIF
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;自慰させられる
;----------------------------
@NIGHT_SEX_19, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;02絶頂経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 != ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		SIF LOCAL:2 != ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
	ENDIF
	;10自慰経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 10, ARG:1, 0
	;11調教自慰経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 11, ARG:1, 0
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;44Ｂ快楽経験
	SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):3/2), 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;03快B
		IF LOCAL:1 != ARG
			SIF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
		ENDIF
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;15恥情
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 15, 20*ARG:1*(6-ABL:(LOCAL:1):14), 0
	ENDIF
	PRINTW  
REND

;============================
;奴隷の膣
;============================
;----------------------------
;逆レイプ
;----------------------------
@NIGHT_SEX_100, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;00Ｖ経験
	SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1, 0
	;02絶頂経験
	IF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):1/6), 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 == ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ELSE
			LOCAL = ARG:1*ABL:(LOCAL:1):1/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		IF LOCAL:2 == ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
			IF LOCAL:1 != MASTER && COM_ABLE_CHECK_FEMALE(LOCAL:1) && ARG:1*ABL:(LOCAL:2):0/6 > 0
				C_NUMBER = MAX(RAND:(ARG:1*ABL:(LOCAL:2):0/6 + 1), 0)
				CFLAG:(LOCAL:1):3666 += C_NUMBER
				CALL CALCULATE_LIMIT, LOCAL:1
			ENDIF
		ELSE
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):1/6), 0
			IF LOCAL:1 != MASTER && COM_ABLE_CHECK_FEMALE(LOCAL:1) && ARG:1*ABL:(LOCAL:2):1/6 > 0
				C_NUMBER = MAX(RAND:(ARG:1*ABL:(LOCAL:2):1/6 + 1), 0)
				CFLAG:(LOCAL:1):3666 += C_NUMBER
				CALL CALCULATE_LIMIT, LOCAL:1
			ENDIF
		ENDIF
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;20奉仕快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):0, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;01快Ｖ
		SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
			CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):1)*(1+ABL:(LOCAL:2):12), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;Ｖに挿入してもらう
;----------------------------
@NIGHT_SEX_110, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;00Ｖ経験
	SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1, 0
	;02絶頂経験
	IF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):1/6), 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 == ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ELSE
			LOCAL = ARG:1*ABL:(LOCAL:1):1/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		IF LOCAL:2 == ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
			IF LOCAL:1 != MASTER && COM_ABLE_CHECK_FEMALE(LOCAL:1) && ARG:1*ABL:(LOCAL:2):0/6 > 0
				C_NUMBER = MAX(RAND:(ARG:1*ABL:(LOCAL:2):0/6 + 1), 0)
				CFLAG:(LOCAL:1):3666 += C_NUMBER
				CALL CALCULATE_LIMIT, LOCAL:1
			ENDIF
		ELSE
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):1/6), 0
			IF LOCAL:1 != MASTER && COM_ABLE_CHECK_FEMALE(LOCAL:1) && ARG:1*ABL:(LOCAL:2):1/6 > 0
				C_NUMBER = MAX(RAND:(ARG:1*ABL:(LOCAL:2):1/6 + 1), 0)
				CFLAG:(LOCAL:1):3666 += C_NUMBER
				CALL CALCULATE_LIMIT, LOCAL:1
			ENDIF
		ENDIF
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;23キス経験
	CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
	;44Ｂ快楽経験
	SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):3/2), 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;01快Ｖ
		SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
			CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):1)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		IF LOCAL:1 != ARG
			SIF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
		ENDIF
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;バイブや指で慰めて貰う
;----------------------------
@NIGHT_SEX_115, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;00Ｖ経験
	SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1, 0
	;02絶頂経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):1/6), 0
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 != ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):1/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		SIF LOCAL:2 != ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):1/6), 0
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;23キス経験
	CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;01快Ｖ
		SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
			CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):1)*(1+ABL:(LOCAL:2):12), 0
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;自慰させられる
;----------------------------
@NIGHT_SEX_119, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;00Ｖ経験
	SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1, 0
	;02絶頂経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 != ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):1/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		SIF LOCAL:2 != ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):1/6), 0
	ENDIF
	;10自慰経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 10, ARG:1, 0
	;11調教自慰経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 11, ARG:1, 0
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;44Ｂ快楽経験
	SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):3/2), 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;01快Ｖ
		SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
			CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):1)*(1+ABL:(LOCAL:2):12), 0
		;03快B
		IF LOCAL:1 != ARG
			SIF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
		ENDIF
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;============================
;奴隷の尻穴
;============================
;----------------------------
;逆Ａレイプ
;----------------------------
@NIGHT_SEX_200, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;01Ａ経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 1, ARG:1, 0
	;02絶頂経験
	IF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):2/6), 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 == ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ELSE
			LOCAL = ARG:1*ABL:(LOCAL:1):2/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		IF LOCAL:2 == ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
		ELSE
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):2/6), 0
		ENDIF
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;20奉仕快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):0, 0
	;30苦痛快楽経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 30, ARG:1*ABL:(LOCAL:1):21*(6-ABL:(LOCAL:1):2), 0
	;43Ａ快楽経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 43, ARG:1*ABL:(LOCAL:1):2, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;02快Ａ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):2)*(1+ABL:(LOCAL:2):12), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;Ａに挿入してもらう
;----------------------------
@NIGHT_SEX_210, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;01Ａ経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 1, ARG:1, 0
	;02絶頂経験
	IF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):2/6), 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 == ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ELSE
			LOCAL = ARG:1*ABL:(LOCAL:1):2/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		IF LOCAL:2 == ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
		ELSE
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):2/6), 0
		ENDIF
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;23キス経験
	CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
	;30苦痛快楽経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 30, ARG:1*ABL:(LOCAL:1):21*(6-ABL:(LOCAL:1):2), 0
	;43Ａ快楽経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 43, ARG:1*ABL:(LOCAL:1):2, 0
	;44Ｂ快楽経験
	SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):3/2), 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;02快Ａ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):2)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		IF LOCAL:1 != ARG
			SIF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
		ENDIF
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;Ａバイブや指で慰めて貰う
;----------------------------
@NIGHT_SEX_215, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;01Ａ経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 1, ARG:1, 0
	;02絶頂経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):2/6), 0
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 != ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):2/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		SIF LOCAL:2 != ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):2/6), 0
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;30苦痛快楽経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 30, ARG:1*ABL:(LOCAL:1):21*(6-ABL:(LOCAL:1):2), 0
	;43Ａ快楽経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 43, ARG:1*ABL:(LOCAL:1):2, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;02快Ａ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):2)*(1+ABL:(LOCAL:2):12), 0
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;アナニーさせられる
;----------------------------
@NIGHT_SEX_219, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;01Ａ経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 1, ARG:1, 0
	;02絶頂経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):2/6), 0
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 != ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):2/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		SIF LOCAL:2 != ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):2/6), 0
	ENDIF
	;10自慰経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 10, ARG:1, 0
	;11調教自慰経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 11, ARG:1, 0
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;30苦痛快楽経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 30, ARG:1*ABL:(LOCAL:1):21*(6-ABL:(LOCAL:1):2), 0
	;43Ａ快楽経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 43, ARG:1*ABL:(LOCAL:1):2, 0
	;44Ｂ快楽経験
	SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):3, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;02快Ａ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):2)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		IF LOCAL:1 != ARG
			SIF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
		ENDIF
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;15恥情
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 15, 20*ARG:1*(6-ABL:(LOCAL:1):14), 0
	ENDIF
	PRINTW  
REND

;============================
;奴隷の胸と陰核
;============================
;----------------------------
;強制素股する
;----------------------------
@NIGHT_SEX_300, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;02絶頂経験
	CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		LOCAL = ARG:1*ABL:(LOCAL:1):0/6
		CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
		;LUNATIC以上は射精するたびに体力が減少
		CALL EXHAUST_EJAC, LOCAL:1, LOCAL
	ENDIF
	;04精液経験
	SIF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;44Ｂ快楽経験
	SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):3/2), 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		IF LOCAL:1 == ARG
			SIF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
		ENDIF
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;強制貝あわせ
;----------------------------
@NIGHT_SEX_301, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;02絶頂経験
	CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		LOCAL = ARG:1*ABL:(LOCAL:1):0/6
		CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
		;LUNATIC以上は射精するたびに体力が減少
		CALL EXHAUST_EJAC, LOCAL:1, LOCAL
	ENDIF
	;04精液経験
	SIF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;20奉仕快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):0, 0
	;44Ｂ快楽経験
	SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):3/2), 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		IF LOCAL:1 != ARG
			SIF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
		ENDIF
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;クンニ強制+自慰
;----------------------------
@NIGHT_SEX_302, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;02絶頂経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 != ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		SIF LOCAL:2 != ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
	ENDIF
	;10自慰経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 10, ARG:1, 0
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;44Ｂ快楽経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):3, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		IF LOCAL:1 != ARG
			IF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
			ELSE
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
			ENDIF
		ENDIF
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;相互愛撫
;----------------------------
@NIGHT_SEX_310, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;02絶頂経験
	CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		LOCAL = ARG:1*ABL:(LOCAL:1):0/6
		CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
		;LUNATIC以上は射精するたびに体力が減少
		CALL EXHAUST_EJAC, LOCAL:1, LOCAL
	ENDIF
	;04精液経験
	SIF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;23キス経験
	CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
	;44Ｂ快楽経験
	SIF TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):3, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		SIF TALENT:(LOCAL:1):120 == 0
			CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;愛撫してもらう
;----------------------------
@NIGHT_SEX_311, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;02絶頂経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 != ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		SIF LOCAL:2 != ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;23キス経験
	CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
	;44Ｂ快楽経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):3, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		IF LOCAL:1 != ARG
			IF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
			ELSE
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
			ENDIF
		ENDIF
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
	ENDIF
	PRINTW  
REND

;----------------------------
;自慰させられる
;----------------------------
@NIGHT_SEX_319, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;02絶頂経験
	CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 != ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, (ARG:1*ABL:(LOCAL:1):0/6), 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		SIF LOCAL:2 != ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
	ENDIF
	;10自慰経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 10, ARG:1, 0
	;11調教自慰経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 11, ARG:1, 0
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;44Ｂ快楽経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):3, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		IF LOCAL:1 != ARG
			IF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
			ELSE
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
			ENDIF
		ENDIF
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;15恥情
		SIF LOCAL:1 != ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 15, 20*ARG:1*(6-ABL:(LOCAL:1):14), 0
	ENDIF
	PRINTW  
REND

;============================
;精飲系
;============================
;----------------------------
;襲撃フェラ
;----------------------------
;----------------------------
;フェラさせてもらう
;----------------------------

;============================
;コピぺ用全部乗せ
;============================
@NIGHT_SEX_999, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	;00Ｖ経験
	SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1, 0
	;01Ａ経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 1, ARG:1, 0
	;02絶頂経験
	IF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0/6), 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		IF LOCAL:1 == ARG
			LOCAL = ARG:1*ABL:(LOCAL:1):1/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ELSE
			LOCAL = ARG:1*ABL:(LOCAL:1):0/6
			CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
			;LUNATIC以上は射精するたびに体力が減少
			CALL EXHAUST_EJAC, LOCAL:1, LOCAL
		ENDIF
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		IF LOCAL:2 == ARG
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
			IF LOCAL:1 != MASTER && COM_ABLE_CHECK_FEMALE(LOCAL:1) && ARG:1*ABL:(LOCAL:2):0/6 > 0
				C_NUMBER = MAX(RAND:(ARG:1*ABL:(LOCAL:2):0/6 + 1), 0)
				CFLAG:(LOCAL:1):3666 += C_NUMBER
				CALL CALCULATE_LIMIT, LOCAL:1
			ENDIF
		ELSE
			CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
			IF LOCAL:1 != MASTER && COM_ABLE_CHECK_FEMALE(LOCAL:1) && ARG:1*ABL:(LOCAL:2):0/6 > 0
				C_NUMBER = MAX(RAND:(ARG:1*ABL:(LOCAL:2):0/6 + 1), 0)
				CFLAG:(LOCAL:1):3666 += C_NUMBER
				CALL CALCULATE_LIMIT, LOCAL:1
			ENDIF
		ENDIF
	ENDIF
	;08精飲絶頂経験
	SIF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		CALL COMMON_UP_EXP, LOCAL:1, 8, (ARG:1*ABL:(LOCAL:1):31*ABL:(LOCAL:2):0/36), 0
	;10自慰経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 10, ARG:1, 0
	;11調教自慰経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 11, ARG:1, 0
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG:1, 0
	;13BL経験
	SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
		CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
	;20奉仕快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):0, 0
	;22フェラ経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 22, ARG:1, 0
	;23キス経験
	CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
	;30苦痛快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 30, ARG:1*ABL:(LOCAL:1):21*(6-ABL:(LOCAL:1):2), 0
	;43Ａ快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 43, ARG:1*ABL:(LOCAL:1):2, 0
	;44Ｂ快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):3, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*(1+ABL:(LOCAL:2):12), 0
		;01快Ｖ
		SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
			CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):1)*(1+ABL:(LOCAL:2):12), 0
		;02快Ａ
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):2)*(1+ABL:(LOCAL:2):12), 0
		;03快Ｂ
		IF LOCAL:1 == ARG
			IF TALENT:(LOCAL:1):120 == 0
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
			ELSE
				CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
			ENDIF
		ENDIF
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
		;14屈服
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;15恥情
		SIF LOCAL:1 == ARG
			CALL COMMON_UP_JUEL, LOCAL:1, 15, 20*ARG:1*(6-ABL:(LOCAL:1):14), 0
	ENDIF
	PRINTW  
REND

;==============================================
;
;ＳＭ系処理
;
;==============================================
;--------------------------------------------
;対象がＭな場合
;--------------------------------------------
@NIGHT_EVENT_SM_M_2, ARG
;先ず攻め手のＳ度LOCAL:10を換算する(初期値はサドっ気LV)
LOCAL:10 = ABL:ARG:サドっ気
;サド持ちなら+3
SIF TALENT:ARG:サド
	LOCAL:10 += 3
;どＳ持ちなら+5
SIF TALENT:ARG:ドＳ
	LOCAL:10 += 5

;次に受け手のＭ度LOCAL:11を換算する(初期値は受け手のマゾっ気LV)
LOCAL:11 = ABL:マゾっ気
;マゾ持ちなら+3
SIF TALENT:マゾ
	LOCAL:11 += 3
;どＭ持ちなら+5
SIF TALENT:ドＭ
	LOCAL:11 += 5

;行為数LOCAL:5を算出する。最低3回にする
;単純平均が最低値を割った場合、底上げ
LOCAL:5 = MAX((LOCAL:10+LOCAL:11)/2, 3)

;数式補助にLOCAL:12,LOCAL:13を使う。

REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	LOCAL:12 = (LOCAL:1 == ARG) ? LOCAL:10/5 # LOCAL:11/5
	LOCAL:13 = (LOCAL:1 == ARG) ? LOCAL:11/5 # LOCAL:10/5

	;各経験の取得。
	;2絶頂、3射精、4精液、30苦痛快楽、縄有りなら31緊縛、39ＳＭ教育
	;レズ、ＢＬは除外してしまう。ＳＭメインなので。
	;絶頂経験。S度/5回もしくはM度/5回
	CALL COMMON_UP_EXP, LOCAL:1, 2, LOCAL:12, 0
	;射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		LOCAL = LOCAL:12
		CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
		;LUNATIC以上は射精するたびに体力が減少
		CALL EXHAUST_EJAC, LOCAL:1, LOCAL
	ENDIF
	;精液経験
	SIF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		CALL COMMON_UP_EXP, LOCAL:1, 4, LOCAL:13, 0
	;苦痛快楽経験
	IF LOCAL:1 != ARG
		IF ITEM:鞭 || NOITEM
			CALL COMMON_UP_EXP, LOCAL:1, 30, (LOCAL:5*ABL:(LOCAL:1):21*ABL:(LOCAL:2):12)/5, 0
		ELSE
			CALL COMMON_UP_EXP, LOCAL:1, 30, (LOCAL:5*ABL:(LOCAL:1):21*ABL:(LOCAL:2):12)/6, 0
		ENDIF
	ENDIF
	;緊縛経験
	SIF LOCAL:1 != ARG && (ITEM:縄 || NOITEM)
		CALL COMMON_UP_EXP, LOCAL:1, 31, LOCAL:5, 0
	;ＳＭ教育経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 39, LOCAL:5, 0

	;主人の場合
	IF LOCAL:1 == MASTER
		
	;奴隷の場合
	ELSEIF LOCAL:1 == ARG
		;習得の珠
		CALL COMMON_UP_JUEL, LOCAL:1, 11, 50*LOCAL:5*(1+ABL:(LOCAL:1):12), 0
		;欲情の珠
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 10*LOCAL:5*(1+ABL:(LOCAL:1):11)*LOCAL:10, 0
	ELSEIF ITEM:鞭 || NOITEM
		;恭順の珠
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, (LOCAL:5*ABL:(LOCAL:1):10*LOCAL:10*LOCAL:11)/3, 0
		;欲情の珠
		CALL COMMON_UP_JUEL, LOCAL:1, 13, (10*LOCAL:5*(1+ABL:(LOCAL:1):11)*LOCAL:11*ABL:ARG:技巧)/5, 0
		;屈服の珠
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 14, (10*LOCAL:5*(1+ABL:(LOCAL:1):11)*LOCAL:11*ABL:ARG:技巧)/5, 0
		;苦痛の珠
		CALL COMMON_UP_JUEL, LOCAL:1, 16, 50*LOCAL:5*(1+ABL:ARG:技巧), 0
	ELSE
		;恭順の珠
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, (LOCAL:5*ABL:(LOCAL:1):10*LOCAL:10*LOCAL:11)/4, 0
		;欲情の珠
		CALL COMMON_UP_JUEL, LOCAL:1, 13, (10*LOCAL:5*(1+ABL:(LOCAL:1):11)*LOCAL:11*ABL:ARG:技巧)/6, 0
		;屈服の珠
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 14, (10*LOCAL:5*(1+ABL:(LOCAL:1):11)*LOCAL:11*ABL:ARG:技巧)/6, 0
		;苦痛の珠
		CALL COMMON_UP_JUEL, LOCAL:1, 16, 40*LOCAL:5*(1+ABL:ARG:技巧), 0
	ENDIF
	SIF COUNT == 0
		PRINTW  
REND

;--------------------------------------------
;対象がＳな場合
;--------------------------------------------
@NIGHT_EVENT_SM_S_2, ARG
;先ず攻め手のＳ度LOCAL:11を換算する(初期値はサドっ気LV)
LOCAL:11 = ABL:サドっ気
;サド持ちなら+3
SIF TALENT:サド
	LOCAL:11 += 3
;どＳ持ちなら+5
SIF TALENT:ドＳ
	LOCAL:11 += 5

;次に受け手のＭ度LOCAL:10を換算する(初期値は受け手のマゾっ気LV)
LOCAL:10 = ABL:ARG:マゾっ気
;マゾ持ちなら+3
SIF TALENT:ARG:マゾ
	LOCAL:10 += 3
;どＭ持ちなら+5
SIF TALENT:ARG:ドＭ
	LOCAL:10 += 5

;行為数LOCAL:5を算出する。最低3回にする
;単純平均が最低値を割った場合、底上げ
LOCAL:5 = MAX((LOCAL:11+LOCAL:10)/2, 3)

;数式補助にLOCAL:12,LOCAL:13を使う。

REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG
	
	LOCAL:12 = (LOCAL:1 != ARG) ? LOCAL:11/5 # LOCAL:10/5
	LOCAL:13 = (LOCAL:1 != ARG) ? LOCAL:10/5 # LOCAL:11/5
	
	;各経験の取得。
	;2絶頂、3射精、4精液、30苦痛快楽、縄有りなら31緊縛、39ＳＭ教育
	;レズ、BLは除外してしまう。ＳＭメインなので。
	;絶頂経験。S度/5回もしくはM度/5回
	CALL COMMON_UP_EXP, LOCAL:1, 2, LOCAL:12, 0
	;射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		LOCAL = LOCAL:12
		CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL:12, 0
		;LUNATIC以上は射精するたびに体力が減少
		CALL EXHAUST_EJAC, LOCAL:1, LOCAL
	ENDIF
	;精液経験
	SIF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		CALL COMMON_UP_EXP, LOCAL:1, 4, LOCAL:13, 0
	;苦痛快楽経験
	IF LOCAL:1 == ARG
		IF ITEM:鞭 || NOITEM
			CALL COMMON_UP_EXP, LOCAL:1, 30, (LOCAL:5*ABL:(LOCAL:1):21*ABL:(LOCAL:2):12)/5, 0
		ELSE
			CALL COMMON_UP_EXP, LOCAL:1, 30, (LOCAL:5*ABL:(LOCAL:1):21*ABL:(LOCAL:2):12)/6, 0
		ENDIF
	ENDIF
	;緊縛経験
	SIF LOCAL:1 == ARG && (ITEM:縄 || NOITEM)
		CALL COMMON_UP_EXP, LOCAL:1, 31, LOCAL:5, 0
	;ＳＭ教育経験
	SIF LOCAL:1 != ARG
		CALL COMMON_UP_EXP, LOCAL:1, 39, LOCAL:5, 0
	
	;主人の場合
	IF LOCAL:1 == MASTER
		
	;奴隷の場合
	ELSEIF LOCAL:1 == TARGET
		;習得の珠
		CALL COMMON_UP_JUEL, LOCAL:1, 11, 50*LOCAL:5*(1+ABL:(LOCAL:1):12), 0
		;欲情の珠
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 10*LOCAL:5*(1+ABL:(LOCAL:1):11)*LOCAL:11, 0
		;先導の珠
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 32, (LOCAL:5*ABL:(LOCAL:1):10*LOCAL:11*LOCAL:10)/3, 0
	ELSE
		;欲情の珠
		CALL COMMON_UP_JUEL, LOCAL:1, 13, (10*LOCAL:5*(1+ABL:(LOCAL:1):11)*LOCAL:10*ABL:ARG:技巧)/5, 0
		;苦痛の珠
		CALL COMMON_UP_JUEL, LOCAL:1, 16, 50*LOCAL:5*(1+ABL:ARG:技巧), 0
	ENDIF
	PRINTW  
REND

RETURN LOCAL:5

;==============================================
;
;多人数セックスの処理
;
;==============================================
;基本方針。使える穴は全部使う
;容量増えすぎて夜イベから派生
;変数は基本的に夜イベに合せてある
;

;ZFIJLR以外でうまく置き換えれば、最大で21人までいけるなどと思っていたことがありましたｗ
;穴を開発していない棒付き20vs女一人だとVやＡ経験が凄い事になる
;どのくらい凄いかというと行為数12で、VA合せて160回突っ込まれる計算。
;そして絶頂回数82回
;･･･絶頂82回は何か普通か。
;-----------------------------------------------
;二人セックス用
;-----------------------------------------------
@NIGHT_STATUS_UP_2P, ARG
;参加者数-1
LOCAL = 1
REPEAT (LOCAL+1)
	;自身の使用可能な穴の数をLOCAL:10、自分以外の肉棒の数をLOCAL:11とする
	;LOCAL:10は主人の眠り判定に使っているが、此処ではもう用無しである
	;親しい人の存在判定LOCAL:13
	LOCAL:10 = 0
	LOCAL:11 = 0
	LOCAL:13 = 0
	LOCAL:15 = 0

	;カウントに応じて、入れ替える。
	LOCAL:1 = (COUNT == 0) ? MASTER # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # MASTER
	;自分以外の穴を使用可能な人数を取得する(LOCAL:15
	SIF (TALENT:(LOCAL:2):120 == 0 && TALENT:(LOCAL:2):0 == 0 && (EXP:(LOCAL:2):0 > 12 || LOCAL:2 != MASTER)) || ((LOCAL:2 == MASTER && EXP:(LOCAL:2):1 > 12) || ABL:(LOCAL:2):2 > 1)
		LOCAL:15 += 1
	SIF LOCAL:15 > 1
		LOCAL:15 = 0

	;自身の使用可能な穴数（LOCAL:10。
	;Ｖの場合。処女じゃなければおｋ。主人なら経験13以上
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):0 > 12 || LOCAL:1 != MASTER)
		LOCAL:10 += 1
	;尻穴。主人は経験13以上。奴隷の場合ABL2以上、主人の2以上でもいい
	SIF (LOCAL:1 == MASTER && EXP:(LOCAL:1):1 > 12) || ABL:(LOCAL:1):2 > 1
		LOCAL:10 += 1
	;棒の数を集計する(LOCAL:11
	SIF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		LOCAL:11 += 1
	;自分以外の男の数をカウント
	SIF TALENT:(LOCAL:2):120
		LOCAL:13 += 1

	;経験処理開始。
	;ＡＢ快楽はエロイんで欲しい
	;奉仕は入るとエロイから入れたい。
	;ＣＶ調律は調教じゃないし割愛。
	;Ｖ、Ａ、絶頂、射精、精液、レズ、ＢＬ、奉仕、フェラ、キス、Ａ快楽、Ｂ快楽かね・・・多いな
	;今思えばコレもCALLすればよかった
	;00Ｖ経験。誰か棒持ってないとダメ。計算しきれないケースがあるが、面倒なんで割愛
	SIF LOCAL:11 > 0 && TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):0 > 12 || LOCAL:1 != MASTER)
		CALL COMMON_UP_EXP, LOCAL:1, 0, (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15)), 0
	;01Ａ経験。誰か棒持ってないとダメ
	SIF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):1 > 12) || ABL:(LOCAL:1):2 > 1)
		CALL COMMON_UP_EXP, LOCAL:1, 1, (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15)), 0
	;02絶頂経験ARG/2＋Ｖ経験ボーナス＋Ａ経験ボーナス
	IF LOCAL:10 > 0
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG/2)+(ARG*LOCAL:11/(3*(1+LOCAL:15))), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, ARG/2, 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		LOCAL:5 = ARG/2
		CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL:5, 0
		;LUNATIC以上は射精するたびに体力が減少
		CALL EXHAUST_EJAC, LOCAL:1, LOCAL:5
	ENDIF
	;04精液経験
	IF LOCAL:10 > 0
		CALL COMMON_UP_EXP, LOCAL:1, 4, ((ARG*LOCAL:11)/(6*LOCAL))+(ARG*LOCAL:11/(3*(1+LOCAL:15))), 0
		IF LOCAL:1 != MASTER && TALENT:(LOCAL:1):0 == 0 && COM_ABLE_CHECK_FEMALE(LOCAL:1) && ((ARG*LOCAL:11)/(6*LOCAL))+(ARG*LOCAL:11/(3*(1+LOCAL:15))) > 0
			C_NUMBER = MAX(RAND:(((ARG*LOCAL:11)/(6*LOCAL))+(ARG*LOCAL:11/(3*(1+LOCAL:15))) + 1), 0)
			CFLAG:(LOCAL:1):3666 += C_NUMBER
			CALL CALCULATE_LIMIT, LOCAL:1
		ENDIF
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG*LOCAL:11*((9*LOCAL)-(8*LOCAL:15)))/(18*LOCAL*LOCAL), 0
		IF LOCAL:1 != MASTER && TALENT:(LOCAL:1):0 == 0 && COM_ABLE_CHECK_FEMALE(LOCAL:1) && (ARG*LOCAL:11*((9*LOCAL)-(8*LOCAL:15)))/(18*LOCAL*LOCAL) > 0
			C_NUMBER = MAX(RAND:((ARG*LOCAL:11*((9*LOCAL)-(8*LOCAL:15)))/(18*LOCAL*LOCAL) + 1), 0)
			CFLAG:(LOCAL:1):3666 += C_NUMBER
			CALL CALCULATE_LIMIT, LOCAL:1
		ENDIF
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && LOCAL:13 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, 5*ARG*(LOCAL-LOCAL:13), 0
	;13ＢＬ経験
	SIF TALENT:(LOCAL:1):120 && LOCAL:13 == LOCAL
		CALL COMMON_UP_EXP, LOCAL:1, 13, 5*ARG*LOCAL:13, 0
	;20奉仕快楽経験。主人は技巧、奴隷は奉仕精神
	IF LOCAL:1 == MASTER
		CALL COMMON_UP_EXP, LOCAL:1, 20, (ARG*(LOCAL+LOCAL:11)*ABL:(LOCAL:1):12)/LOCAL, 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 20, (ARG*(LOCAL+LOCAL:11)*ABL:(LOCAL:1):13)/LOCAL, 0
	ENDIF
	;22フェラ経験
	CALL COMMON_UP_EXP, LOCAL:1, 22, (ARG*LOCAL:11)/(LOCAL*3), 0
	;23キス経験
	;ふたりではぴったり数が合わないとおかしいのでランダムが使えない
	LOCAL:12 = ARG
	CALL COMMON_UP_EXP, LOCAL:1, 23, LOCAL:12, 0
	;43Ａ快楽経験
	SIF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):1 > 12) || ABL:(LOCAL:1):2 > 1)
		CALL COMMON_UP_EXP, LOCAL:1, 43, (ARG*LOCAL:11*(3-LOCAL:10)*ABL:(LOCAL:1):2)/(3*(1+LOCAL:15)), 0
	;44Ｂ快楽経験
	IF TALENT:(LOCAL:1):120
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG*ABL:(LOCAL:1):3)/2, 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG*(1+LOCAL:13)*ABL:(LOCAL:1):3)/2, 0
	ENDIF


	;奴隷の場合。いつものＣＶＡＢ欲望恭順。もとの乱交でも習得上がってたから習得も入れる。ただし主人の技巧が奴隷を上回る場合のみ。
	IF LOCAL:1 != MASTER
		LOCAL:12 = 0
		;00Ｃの珠(最大で6000
		CALL COMMON_UP_JUEL, LOCAL:1, 0, 20*ARG*MAX(ABL:(LOCAL:1):0*ABL:(LOCAL:1):0, 1), 0
		;01Ｖの珠
		IF LOCAL:11 > 0 && TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):0 > 12 || LOCAL:1 != MASTER)
			LOCAL:12 = (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15))
			CALL COMMON_UP_JUEL, LOCAL:1, 1, 20*LOCAL:12*ABL:(LOCAL:1):1*ABL:(LOCAL:1):1, 0
		ENDIF
		;02Ａの珠
		IF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):1 > 12) || ABL:(LOCAL:1):2 > 1)
			LOCAL:12 = (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15))
			CALL COMMON_UP_JUEL, LOCAL:1, 2, 20*LOCAL:12*ABL:(LOCAL:1):2*ABL:(LOCAL:1):2, 0
		ENDIF
		;03Ｂの珠
		LOCAL:12 = ARG/2
		SIF TALENT:(LOCAL:1):120 == 0
			LOCAL:12 = ARG*(1+LOCAL:13)/2
		CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*LOCAL:12*ABL:(LOCAL:1):3*ABL:(LOCAL:1):3, 0
		;11習得
		SIF ABL:(LOCAL:1):12 < ABL:MASTER:技巧
			CALL COMMON_UP_JUEL, LOCAL:1, 11, 15*ARG*ABL:(LOCAL:1):12*ABL:(LOCAL:1):12, 0
		;12恭順
		CALL COMMON_UP_JUEL, LOCAL:1, 12, 15*ARG*ABL:(LOCAL:1):10*ABL:(LOCAL:1):13, 0
		;13欲情
		LOCAL:12 = ARG/2
		SIF LOCAL:10 > 0
			LOCAL:12 = (ARG/2)+(ARG*LOCAL:11/(3*(1+LOCAL:15)))
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 30*LOCAL:12*ABL:(LOCAL:1):11*ABL:(LOCAL:1):11, 0
	ENDIF
	PRINTW 　
REND

;-----------------------------------------------
;3人セックス用
;-----------------------------------------------
@NIGHT_STATUS_UP_3P, ARG, ARG:1
;参加者数-1
LOCAL = 2
REPEAT (LOCAL+1)
	;自身の使用可能な穴の数をLOCAL:10、自分以外の肉棒の数をLOCAL:11とする
	;LOCAL:10は主人の眠り判定に使っているが、此処ではもう用無しである
	;親しい人の存在判定LOCAL:13
	LOCAL:10 = 0
	LOCAL:11 = 0
	LOCAL:13 = 0
	LOCAL:15 = 0

	;カウントに応じて、LOCAL:1 LOCAL:2 LOCAL:3を入れ替える。本当はABCDEが良いが他で使っているので仕方ない
	IF COUNT == 0
		LOCAL:1 = MASTER
		LOCAL:2 = TARGET
		LOCAL:3 = ARG
	ELSEIF COUNT == 1
		LOCAL:1 = TARGET
		LOCAL:2 = ARG
		LOCAL:3 = MASTER
	ELSE
		LOCAL:1 = ARG
		LOCAL:2 = MASTER
		LOCAL:3 = TARGET
	ENDIF
	;自分以外の穴を使用可能な人数を取得する(LOCAL:15
	SIF (TALENT:(LOCAL:2):120 == 0 && TALENT:(LOCAL:2):0 == 0 && (EXP:(LOCAL:2):0 > 12 || LOCAL:2 != MASTER)) || ((LOCAL:2 == MASTER && EXP:(LOCAL:2):1 > 12) || ABL:(LOCAL:2):2 > 1)
		LOCAL:15 += 1
	SIF (TALENT:(LOCAL:3):120 == 0 && TALENT:(LOCAL:3):0 == 0 && (EXP:(LOCAL:3):0 > 12 || LOCAL:3 != MASTER)) || ((LOCAL:3 == MASTER && EXP:(LOCAL:3):1 > 12) || ABL:(LOCAL:3):2 > 1)
		LOCAL:15 += 1
	SIF LOCAL:15 > 2
		LOCAL:15 = 1

	;自身の使用可能な穴数（LOCAL:10。
	;Ｖの場合。処女じゃなければおｋ。主人なら経験13以上
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):0 > 12 || LOCAL:1 != MASTER)
		LOCAL:10 += 1
	;尻穴。主人は経験13以上。奴隷の場合ABL2以上、主人の2以上でもいい
	SIF (LOCAL:1 == MASTER && EXP:(LOCAL:1):1 > 12) || ABL:(LOCAL:1):2 > 1
		LOCAL:10 += 1
	;棒の数を集計する(LOCAL:11
	SIF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		LOCAL:11 += 1
	SIF TALENT:(LOCAL:3):120 || TALENT:(LOCAL:3):121
		LOCAL:11 += 1
	;自分以外の男の数をカウント
	SIF TALENT:(LOCAL:2):120
		LOCAL:13 += 1
	SIF TALENT:(LOCAL:3):120
		LOCAL:13 += 1

	;経験処理開始。
	;ＡＢ快楽はエロイんで欲しい
	;奉仕は入るとエロイから入れたい。
	;ＣＶ調律は調教じゃないし割愛。
	;Ｖ、Ａ、絶頂、射精、精液、レズ、ＢＬ、奉仕、フェラ、キス、Ａ快楽、Ｂ快楽かね・・・多いな
	;00Ｖ経験。誰か棒持ってないとダメ。計算しきれないケースがあるが、面倒なんで割愛
	SIF LOCAL:11 > 0 && TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):0 > 12 || LOCAL:1 != MASTER)
		CALL COMMON_UP_EXP, LOCAL:1, 0, (ARG:1*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15)), 0
	;01Ａ経験。誰か棒持ってないとダメ
	SIF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):1 > 12) || ABL:(LOCAL:1):2 > 1)
		CALL COMMON_UP_EXP, LOCAL:1, 1, (ARG:1*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15)), 0
	;02絶頂経験ARG:1/2＋Ｖ経験ボーナス＋Ａ経験ボーナス
	IF LOCAL:10 > 0
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1/2)+(ARG:1*LOCAL:11/(3*(1+LOCAL:15))), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, ARG:1/2, 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		CALL COMMON_UP_EXP, LOCAL:1, 3, ARG:1/2, 0
		;LUNATIC以上は射精するたびに体力が減少
		CALL EXHAUST_EJAC, LOCAL:1, ARG:1/2
	ENDIF
	;04精液経験
	IF LOCAL:10 > 0
		CALL COMMON_UP_EXP, LOCAL:1, 4, ((ARG:1*LOCAL:11)/(6*LOCAL))+(ARG:1*LOCAL:11/(3*(1+LOCAL:15))), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*LOCAL:11*((9*LOCAL)-(8*LOCAL:15)))/(18*LOCAL*LOCAL), 0
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && LOCAL:13 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, 5*ARG:1*(LOCAL-LOCAL:13), 0
	;13ＢＬ経験
	SIF TALENT:(LOCAL:1):120 && LOCAL:13 == LOCAL
		CALL COMMON_UP_EXP, LOCAL:1, 13, 5*ARG:1*LOCAL:13, 0
	;20奉仕快楽経験。主人は技巧、奴隷は奉仕精神
	IF LOCAL:1 == MASTER
		CALL COMMON_UP_EXP, LOCAL:1, 20, (ARG:1*(LOCAL+LOCAL:11)*ABL:(LOCAL:1):12)/LOCAL, 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 20, (ARG:1*(LOCAL+LOCAL:11)*ABL:(LOCAL:1):13)/LOCAL, 0
	ENDIF
	;22フェラ経験
	CALL COMMON_UP_EXP, LOCAL:1, 22, (ARG:1*LOCAL:11)/(LOCAL*3), 0
	;23キス経験
	LOCAL:12 = ARG:1*2
	LOCAL:12 = RAND:(LOCAL:12)
	CALL COMMON_UP_EXP, LOCAL:1, 23, LOCAL:12, 0
	;43Ａ快楽経験
	SIF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):1 > 12) || ABL:(LOCAL:1):2 > 1)
		CALL COMMON_UP_EXP, LOCAL:1, 43, (ARG:1*LOCAL:11*(3-LOCAL:10)*ABL:(LOCAL:1):2)/(3*(1+LOCAL:15)), 0
	;44Ｂ快楽経験
	IF TALENT:(LOCAL:1):120
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):3)/2, 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*(1+LOCAL:13)*ABL:(LOCAL:1):3)/2, 0
	ENDIF

	;奴隷の場合。いつものＣＶＡＢ欲望恭順。もとの乱交でも習得上がってたから習得も入れる。ただし主人の技巧が奴隷を上回る場合のみ。
	IF LOCAL:1 != MASTER
		LOCAL:12 = 0
		;00Ｃの珠(最大で6000
		CALL COMMON_UP_JUEL, LOCAL:1, 0, 20*ARG:1*ABL:(LOCAL:1):0*ABL:(LOCAL:1):0, 0
		;01Ｖの珠
		IF LOCAL:11 > 0 && TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):0 > 12 || LOCAL:1 != MASTER)
			LOCAL:12 = (ARG:1*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15))
			CALL COMMON_UP_JUEL, LOCAL:1, 1, 20*LOCAL:12*ABL:(LOCAL:1):1*ABL:(LOCAL:1):1, 0
		ENDIF
		;02Ａの珠
		IF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):1 > 12) || ABL:(LOCAL:1):2 > 1)
			LOCAL:12 = (ARG:1*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15))
			CALL COMMON_UP_JUEL, LOCAL:1, 2, 20*LOCAL:12*ABL:(LOCAL:1):2*ABL:(LOCAL:1):2, 0
		ENDIF
		;03Ｂの珠
		LOCAL:12 = ARG:1/2
		SIF TALENT:(LOCAL:1):120 == 0
			LOCAL:12 = ARG:1*(1+LOCAL:13)/2
		CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*LOCAL:12*ABL:(LOCAL:1):3*ABL:(LOCAL:1):3, 0
		;11習得
		SIF ABL:(LOCAL:1):12 < ABL:MASTER:技巧
			CALL COMMON_UP_JUEL, LOCAL:1, 11, 15*ARG:1*ABL:(LOCAL:1):12*ABL:(LOCAL:1):12, 0
		;12恭順
		CALL COMMON_UP_JUEL, LOCAL:1, 12, 15*ARG:1*ABL:(LOCAL:1):10*ABL:(LOCAL:1):13, 0
		;13欲情
		LOCAL:12 = ARG:1/2
		SIF LOCAL:10 > 0
			LOCAL:12 = (ARG:1/2)+(ARG:1*LOCAL:11/(3*(1+LOCAL:15)))
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 30*LOCAL:12*ABL:(LOCAL:1):11*ABL:(LOCAL:1):11, 0
	ENDIF
	PRINTW  
REND

;-----------------------------------------------
;5人セックス用
;-----------------------------------------------
@NIGHT_STATUS_UP_5P, ARG, ARG:1, ARG:2, ARG:3, ARG:4
;男女混合の5人で処理なんてやってられないのでrepeatでまわす
;これ拡張すればなんにでも適用できるかも
;参加者数-1
LOCAL = 4
LOCAL:1 = MASTER
LOCAL:2 = ARG:1
LOCAL:3 = ARG:2
LOCAL:4 = ARG:3
LOCAL:5 = ARG:4
REPEAT (LOCAL+1)
	ARRAYSHIFT LOCAL, -1, LOCAL:1, 1, 5
	;自身の使用可能な穴の数をLOCAL:10、自分以外の肉棒の数をLOCAL:11とする
	;LOCAL:10は主人の眠り判定に使っているが、此処ではもう用無しである
	;親しい人の存在判定LOCAL:13
	LOCAL:15 = 0
	LOCAL:11 = 0
	LOCAL:10 = 0
	LOCAL:13 = 0
	
	;自分以外の穴を使用可能な人数を取得する(LOCAL:15
	SIF (TALENT:(LOCAL:2):120 == 0 && TALENT:(LOCAL:2):0 == 0 && (EXP:(LOCAL:2):0 > 12 || LOCAL:2 != MASTER)) || ((LOCAL:2 == MASTER && EXP:(LOCAL:2):1 > 12) || ABL:(LOCAL:2):2 > 1)
		LOCAL:15 += 1
	SIF (TALENT:(LOCAL:3):120 == 0 && TALENT:(LOCAL:3):0 == 0 && (EXP:(LOCAL:3):0 > 12 || LOCAL:3 != MASTER)) || ((LOCAL:3 == MASTER && EXP:(LOCAL:3):1 > 12) || ABL:(LOCAL:3):2 > 1)
		LOCAL:15 += 1
	SIF (TALENT:(LOCAL:4):120 == 0 && TALENT:(LOCAL:4):0 == 0 && (EXP:(LOCAL:4):0 > 12 || LOCAL:4 != MASTER)) || ((LOCAL:4 == MASTER && EXP:(LOCAL:4):1 > 12) || ABL:(LOCAL:4):2 > 1)
		LOCAL:15 += 1
	SIF (TALENT:(LOCAL:5):120 == 0 && TALENT:(LOCAL:5):0 == 0 && (EXP:(LOCAL:5):0 > 12 || LOCAL:5 != MASTER)) || ((LOCAL:5 == MASTER && EXP:(LOCAL:5):1 > 12) || ABL:(LOCAL:5):2 > 1)
		LOCAL:15 += 1
	SIF LOCAL:15 > 3
		LOCAL:15 = 3

	;自身の使用可能な穴数（LOCAL:10。
	;Ｖの場合。処女じゃなければおｋ。主人なら経験13以上
	SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):0 > 12 || LOCAL:1 != MASTER)
		LOCAL:10 += 1
	;尻穴。主人は経験13以上。奴隷の場合ABL2以上、主人の2以上でもいい
	SIF (LOCAL:1 == MASTER && EXP:(LOCAL:1):1 > 12) || ABL:(LOCAL:1):2 > 1
		LOCAL:10 += 1
	;棒の数を集計する(LOCAL:11
	SIF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		LOCAL:11 += 1
	SIF TALENT:(LOCAL:3):120 || TALENT:(LOCAL:3):121
		LOCAL:11 += 1
	SIF TALENT:(LOCAL:4):120 || TALENT:(LOCAL:4):121
		LOCAL:11 += 1
	SIF TALENT:(LOCAL:5):120 || TALENT:(LOCAL:5):121
		LOCAL:11 += 1
	;自分以外の男の数をカウント
	SIF TALENT:(LOCAL:2):120
		LOCAL:13 += 1
	SIF TALENT:(LOCAL:3):120
		LOCAL:13 += 1
	SIF TALENT:(LOCAL:4):120
		LOCAL:13 += 1
	SIF TALENT:(LOCAL:5):120
		LOCAL:13 += 1

	;経験処理開始。
	;ＡＢ快楽はエロイんで欲しい
	;奉仕は入るとエロイから入れたい。
	;ＣＶ調律は調教じゃないし割愛。
	;Ｖ、Ａ、絶頂、射精、精液、レズ、ＢＬ、奉仕、フェラ、キス、Ａ快楽、Ｂ快楽かね・・・多いな
	;00Ｖ経験。誰か棒持ってないとダメ。計算しきれないケースがあるが、面倒なんで割愛
	SIF LOCAL:11 > 0 && TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):0 > 12 || LOCAL:1 != MASTER)
		CALL COMMON_UP_EXP, LOCAL:1, 0, (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15)), 0
	;01Ａ経験。誰か棒持ってないとダメ
	SIF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):1 > 12) || ABL:(LOCAL:1):2 > 1)
		CALL COMMON_UP_EXP, LOCAL:1, 1, (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15)), 0
	;02絶頂経験ARG/2＋Ｖ経験ボーナス＋Ａ経験ボーナス
	IF LOCAL:10 > 0
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG/2)+(ARG*LOCAL:11/(3*(1+LOCAL:15))), 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, ARG/2, 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		LOCAL:7 = ARG/2
		CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL:7, 0
		;LUNATIC以上は射精するたびに体力が減少
		CALL EXHAUST_EJAC, LOCAL:1, LOCAL:7
	ENDIF
	;04精液経験
	IF LOCAL:10 > 0
		CALL COMMON_UP_EXP, LOCAL:1, 4, ((ARG*LOCAL:11)/(6*LOCAL))+(ARG*LOCAL:11/(3*(1+LOCAL:15))), 0
		IF LOCAL:1 != MASTER && TALENT:(LOCAL:1):0 == 0 && COM_ABLE_CHECK_FEMALE(LOCAL:1) && ((ARG*LOCAL:11)/(6*LOCAL))+(ARG*LOCAL:11/(3*(1+LOCAL:15))) > 0
			C_NUMBER = MAX(RAND:(((ARG*LOCAL:11)/(6*LOCAL))+(ARG*LOCAL:11/(3*(1+LOCAL:15))) + 1), 0)
			CFLAG:(LOCAL:1):3666 += C_NUMBER
			CALL CALCULATE_LIMIT, LOCAL:1
		ENDIF
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG*LOCAL:11*((9*LOCAL)-(8*LOCAL:15)))/(18*LOCAL*LOCAL), 0
		IF LOCAL:1 != MASTER &&  TALENT:(LOCAL:1):0 == 0 && COM_ABLE_CHECK_FEMALE(LOCAL:1) && (ARG*LOCAL:11*((9*LOCAL)-(8*LOCAL:15)))/(18*LOCAL*LOCAL) > 0
			C_NUMBER = MAX(RAND:((ARG*LOCAL:11*((9*LOCAL)-(8*LOCAL:15)))/(18*LOCAL*LOCAL) + 1), 0)
			CFLAG:(LOCAL:1):3666 += C_NUMBER
			CALL CALCULATE_LIMIT, LOCAL:1
		ENDIF
	ENDIF
	;12レズ経験
	SIF TALENT:(LOCAL:1):120 == 0 && LOCAL:13 == 0
		CALL COMMON_UP_EXP, LOCAL:1, 12, ARG*(LOCAL-LOCAL:13), 0
	;13ＢＬ経験
	SIF TALENT:(LOCAL:1):120 && LOCAL:13 == LOCAL
		CALL COMMON_UP_EXP, LOCAL:1, 13, ARG*LOCAL:13, 0
	;20奉仕快楽経験。主人は技巧、奴隷は奉仕精神
	IF LOCAL:1 == MASTER
		CALL COMMON_UP_EXP, LOCAL:1, 20, (ARG*(LOCAL+LOCAL:11)*ABL:(LOCAL:1):12)/LOCAL, 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 20, (ARG*(LOCAL+LOCAL:11)*ABL:(LOCAL:1):13)/LOCAL, 0
	ENDIF
	;22フェラ経験
	CALL COMMON_UP_EXP, LOCAL:1, 22, (ARG*LOCAL:11)/(LOCAL*3), 0
	;23キス経験
	LOCAL:12 = ARG*2
	LOCAL:12 = RAND:(LOCAL:12)
	CALL COMMON_UP_EXP, LOCAL:1, 23, LOCAL:12, 0
	;43Ａ快楽経験
	SIF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):1 > 12) || ABL:(LOCAL:1):2 > 1)
		CALL COMMON_UP_EXP, LOCAL:1, 43, (ARG*LOCAL:11*(3-LOCAL:10)*ABL:(LOCAL:1):2)/(3*(1+LOCAL:15)), 0
	;44Ｂ快楽経験
	IF TALENT:(LOCAL:1):120
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG*ABL:(LOCAL:1):3)/2, 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG*(1+LOCAL:13)*ABL:(LOCAL:1):3)/2, 0
	ENDIF

	;奴隷の場合。いつものＣＶＡＢ欲望恭順。もとの乱交でも習得上がってたから習得も入れる。ただし主人の技巧が奴隷を上回る場合のみ。
	IF LOCAL:1 != MASTER
		LOCAL:12 = 0
		;00Ｃの珠(最大で6000
		CALL COMMON_UP_JUEL, LOCAL:1, 0, 20*ARG*ABL:(LOCAL:1):0*ABL:(LOCAL:1):0, 0
		;01Ｖの珠
		IF LOCAL:11 > 0 && TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):0 > 12 || LOCAL:1 != MASTER)
			LOCAL:12 = (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15))
			CALL COMMON_UP_JUEL, LOCAL:1, 1, 20*LOCAL:12*ABL:(LOCAL:1):1*ABL:(LOCAL:1):1, 0
		ENDIF
		;02Ａの珠
		IF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):1 > 12) || ABL:(LOCAL:1):2 > 1)
			LOCAL:12 = (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15))
			CALL COMMON_UP_JUEL, LOCAL:1, 2, 20*LOCAL:12*ABL:(LOCAL:1):2*ABL:(LOCAL:1):2, 0
		ENDIF
		;03Ｂの珠
		LOCAL:12 = ARG/2
		SIF TALENT:(LOCAL:1):120 == 0
			LOCAL:12 = ARG*(1+LOCAL:13)/2
		CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*LOCAL:12*ABL:(LOCAL:1):3*ABL:(LOCAL:1):3, 0
		;11習得
		SIF ABL:(LOCAL:1):12 < ABL:MASTER:技巧
			CALL COMMON_UP_JUEL, LOCAL:1, 11, 15*ARG*ABL:(LOCAL:1):12*ABL:(LOCAL:1):12, 0
		;12恭順
		CALL COMMON_UP_JUEL, LOCAL:1, 12, 15*ARG*ABL:(LOCAL:1):10*ABL:(LOCAL:1):13, 0
		;13欲情
		LOCAL:12 = ARG/2
		SIF LOCAL:10 > 0
			LOCAL:12 = (ARG/2)+(ARG*LOCAL:11/(3*(1+LOCAL:15)))
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 30*LOCAL:12*ABL:(LOCAL:1):11*ABL:(LOCAL:1):11, 0
	ENDIF
	PRINTW  
REND

;===================================================
;助手と里でハッスル
;===================================================
;-------------------------------------------------
;女を捕まえてレイプする
;-------------------------------------------------
@NIGHT_ASSI_SEX_PH_1, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG

	;経験値取得処理
	;00Ｖ経験
	SIF TALENT:(LOCAL:1):120 == 0 && (TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121)
		CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1/3, 0
	;02絶頂経験
	IF (TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121)
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):0)/6, 0
	ELSE
		CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):1)/18, 0
	ENDIF
	;03射精経験
	IF TALENT:(LOCAL:1):120 || TALENT:(LOCAL:1):121
		LOCAL = ARG:1*ABL:(LOCAL:1):0/6
		CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
		;LUNATIC以上は射精するたびに体力が減少
		CALL EXHAUST_EJAC, LOCAL:1, LOCAL
	ENDIF
	;04精液経験
	IF TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121
		CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):0/6), 0
		IF LOCAL:1 != MASTER && COM_ABLE_CHECK_FEMALE(LOCAL:1) && ARG:1*ABL:(LOCAL:2):0/6 > 0
			C_NUMBER = MAX(RAND:(ARG:1*ABL:(LOCAL:2):0/6 + 1), 0)
			CFLAG:(LOCAL:1):3666 += C_NUMBER
			CALL CALCULATE_LIMIT, LOCAL:1
		ENDIF
	ENDIF
	;23キス経験
	LOCAL:5 = RAND:(ARG:1)
	CALL COMMON_UP_EXP, LOCAL:1, 23, LOCAL:5, 0
	;80強姦経験
	CALL COMMON_UP_EXP, LOCAL:1, 80, 1, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0), 0
		;01快Ｖ
		SIF TALENT:(LOCAL:1):120 == 0 && (TALENT:(LOCAL:2):120 || TALENT:(LOCAL:2):121)
			CALL COMMON_UP_JUEL, LOCAL:1, 1, (40*ARG:1*(1+ABL:(LOCAL:1):1)*(1+ABL:(LOCAL:2):12))/3, 0
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
	ENDIF
	PRINTW  
REND

;-------------------------------------------------
;男を捕まえて逆レイプする
;-------------------------------------------------
@NIGHT_ASSI_SEX_PH_2, ARG, ARG:1
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG

	;経験値取得処理
	;00Ｖ経験
	CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1-1, 0
	;02絶頂経験
	CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):1)/6, 0
	;04精液経験
	CALL COMMON_UP_EXP, LOCAL:1, 4, ARG:1/3, 0
	IF LOCAL:1 != MASTER && COM_ABLE_CHECK_FEMALE(LOCAL:1) && ARG:1/3 > 0
		C_NUMBER = MAX(RAND:(ARG:1/3 + 1), 0)
		CFLAG:(LOCAL:1):3666 += C_NUMBER
		CALL CALCULATE_LIMIT, LOCAL:1
	ENDIF
	;22フェラ経験
	CALL COMMON_UP_EXP, LOCAL:1, 22, 1, 0
	;23キス経験
	CALL COMMON_UP_EXP, LOCAL:1, 23, RAND:(ARG:1), 0
	;44Ｂ快楽経験
	CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):3)/2, 0
	;80強姦経験
	CALL COMMON_UP_EXP, LOCAL:1, 80, 1, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;01快Ｖ
		CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):1)*(1+ABL:(LOCAL:1):12), 0
		;03快Ｂ
		CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):3)*(1+ABL:(LOCAL:2):12), 0
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*(1+ABL:(LOCAL:2):12), 0
	ENDIF
	PRINTW  
REND

;-------------------------------------------------
;里の男達と乱交する
;-------------------------------------------------
@NIGHT_ASSI_SEX_PH_3, ARG, ARG:1
;相手の人数を決める。
LOCAL = MAX(RAND:13, 5)

REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG

	;経験値取得処理
	;00Ｖ経験
	CALL COMMON_UP_EXP, LOCAL:1, 0, (ARG:1*LOCAL)/3, 0
	;01Ａ経験
	SIF ABL:(LOCAL:1):2 > 1 || EXP:(LOCAL:1):1 > 12
		CALL COMMON_UP_EXP, LOCAL:1, 1, (ARG:1*LOCAL)/4, 0
	;02絶頂経験
	CALL COMMON_UP_EXP, LOCAL:1, 2, ((ARG:1*LOCAL*ABL:(LOCAL:1):0/6)+(ARG:1*LOCAL*ABL:(LOCAL:1):1/3)+(ARG:1*LOCAL*ABL:(LOCAL:1):2/4)+(ARG:1*LOCAL*ABL:(LOCAL:1):3/5))/15, 0
	;04精液経験
	CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*LOCAL)*ABL:(LOCAL:1):12/12, 0
	IF LOCAL:1 != MASTER && COM_ABLE_CHECK_FEMALE(LOCAL:1) && (ARG:1*LOCAL)*ABL:(LOCAL:1):12/12 > 0
		C_NUMBER = MAX(RAND:((ARG:1*LOCAL)*ABL:(LOCAL:1):12/12 + 1), 0)
		CFLAG:(LOCAL:1):3666 += C_NUMBER
		CALL CALCULATE_LIMIT, LOCAL:1
	ENDIF
;	;08精飲絶頂経験
;	CALL COMMON_UP_EXP, LOCAL:1, 8, (ARG:1*ABL:(LOCAL:1):31*LOCAL)/72, 0
	;20奉仕快楽経験
	CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*(ABL:(LOCAL:1):0+ABL:(LOCAL:1):1+ABL:(LOCAL:1):2+ABL:(LOCAL:1):3), 0
	;22フェラ経験
	LOCAL:5 = RAND:(ARG:1/2)
	CALL COMMON_UP_EXP, LOCAL:1, 22, ARG:1+LOCAL:5, 0
	;23キス経験
	LOCAL:5 = RAND:(ARG:1*LOCAL)
	CALL COMMON_UP_EXP, LOCAL:1, 23, LOCAL:5, 0
	;43Ａ快楽経験
	SIF ABL:(LOCAL:1):2 > 1 || EXP:(LOCAL:1):1 > 12
		CALL COMMON_UP_EXP, LOCAL:1, 43, (ARG:1*LOCAL*ABL:(LOCAL:1):2)/4, 0
	;44Ｂ快楽経験
	CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*LOCAL*ABL:(LOCAL:1):3/5, 0
;	;97極楽絶頂経験
;	LOCAL:5 = (ARG:1*LOCAL*ABL:(LOCAL:1):0)/90
;	SIF LOCAL:5 > (ARG:1*LOCAL*ABL:(LOCAL:1):1)/45
;		LOCAL:5 = (ARG:1*LOCAL*ABL:(LOCAL:1):1)/45
;	SIF LOCAL:5 > (ARG:1*LOCAL*ABL:(LOCAL:1):2)/60 && (ABL:(LOCAL:1):2 > 1 || EXP:(LOCAL:1):1 > 12)
;		LOCAL:5 = (ARG:1*LOCAL*ABL:(LOCAL:1):2)/60
;	SIF LOCAL:5 > (ARG:1*LOCAL*ABL:(LOCAL:1):3)/75
;		LOCAL:5 = (ARG:1*LOCAL*ABL:(LOCAL:1):3)/75
;	CALL COMMON_UP_EXP, LOCAL:1, 97, LOCAL:5/2, 0

	;奴隷珠取得処理
	IF LOCAL:1 != MASTER
		;00快Ｃ
		CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):0)*LOCAL, 0
		;01快Ｖ
		CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):1)*LOCAL, 0
		;02快Ａ
		SIF ABL:(LOCAL:1):2 > 1 || EXP:(LOCAL:1):1 > 12
			CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):2)*LOCAL, 0
		;03快Ｂ
		CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):3)*LOCAL, 0
		;12恭順
		SIF ARG == MASTER
			CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):10)*(1+ABL:(LOCAL:1):13), 0
		;13欲望
		CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):11)*LOCAL, 0
	ENDIF
	PRINTW  
REND

;-------------------------------------------------
;いいオトコと3Pする
;-------------------------------------------------
@NIGHT_ASSI_SEX_PH_9, ARG, ARG:1
LOCAL:5 = MIN(ARG:1, 6)
REPEAT 2
	LOCAL:1 = (COUNT == 0) ? ARG # TARGET
	LOCAL:2 = (COUNT == 0) ? TARGET # ARG

	;経験値取得処理
	;01Ａ経験
	CALL COMMON_UP_EXP, LOCAL:1, 1, LOCAL:5, 0
	;02絶頂経験
	CALL COMMON_UP_EXP, LOCAL:1, 2, LOCAL:5*(ABL:(LOCAL:1):0+ABL:(LOCAL:1):2)/6, 0
	;03射精経験
	LOCAL = LOCAL:5*(1+ABL:(LOCAL:1):0)/6
	CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
	;LUNATIC以上は射精するたびに体力が減少
	CALL EXHAUST_EJAC, LOCAL:1, LOCAL
	;04精液経験
	CALL COMMON_UP_EXP, LOCAL:1, 4, LOCAL:5+(LOCAL:5*(1+ABL:(LOCAL:2):2)/6), 0
;	;08精飲絶頂経験
;	CALL COMMON_UP_EXP, LOCAL:1, 8, LOCAL:5*ABL:(LOCAL:1):31/5, 0
	;13BL経験
	CALL COMMON_UP_EXP, LOCAL:1, 13, 10*LOCAL:5, 0
	;20奉仕快楽経験
	CALL COMMON_UP_EXP, LOCAL:1, 20, LOCAL:5*ABL:(LOCAL:1):0, 0
	;22フェラ経験
	CALL COMMON_UP_EXP, LOCAL:1, 22, LOCAL:5, 0
	;23キス経験
	LOCAL = RAND:(LOCAL:5)
	CALL COMMON_UP_EXP, LOCAL:1, 23, LOCAL, 0
	;30苦痛快楽経験
	SIF LOCAL:1 == ARG
		CALL COMMON_UP_EXP, LOCAL:1, 30, LOCAL:5*ABL:(LOCAL:1):21*(6-ABL:(LOCAL:1):2), 0
	;43Ａ快楽経験
	CALL COMMON_UP_EXP, LOCAL:1, 43, LOCAL:5*ABL:(LOCAL:1):2, 0

	PRINTW  
REND

;-----------------------------------------------
;嫁とのボーナス処理
;-----------------------------------------------
@NIGHT_LOVE, ARG, ARG:1
PRINTL 
;21愛情経験
CALL COMMON_UP_EXP, TARGET, 21, ARG, 0
;23キス経験
CALL COMMON_UP_EXP, TARGET, 23, ARG, 0
;00快Ｃの珠
CALL COMMON_UP_JUEL, TARGET, 0, (ARG:1*200), 0
;03快Ｂの珠
CALL COMMON_UP_JUEL, TARGET, 3, (ARG:1*200), 0
IF TALENT:MASTER:オトコ || TALENT:MASTER:ふたなり
	;22フェラ経験
	CALL COMMON_UP_EXP, TARGET, 22, (ARG:1/2), 0
	;11習得の珠
	CALL COMMON_UP_JUEL, TARGET, 11, (ARG:1*400), 0
ENDIF
IF TALENT:オトコ == 0 && TALENT:処女 == 0 && (TALENT:MASTER:オトコ || TALENT:MASTER:ふたなり)
	;00Ｖ経験
	CALL COMMON_UP_EXP, TARGET, 0, (ARG:1/2), 0
	;42Ｖ調律経験
	CALL COMMON_UP_EXP, TARGET, 42, (ARG:1/2), 0
	;01快Ｖの珠
	CALL COMMON_UP_JUEL, TARGET, 1, (ABL:Ｖ感覚*ABL:Ｖ感覚*300), 0
ENDIF
IF ABL:Ａ感覚 >= 1
	;01Ａ経験
	CALL COMMON_UP_EXP, TARGET, 1, (ARG:1/2), 0
	;02快Ａの珠
	CALL COMMON_UP_JUEL, TARGET, 2, (ABL:Ａ感覚*ABL:Ａ感覚*250), 0
	;15恥情の珠
	CALL COMMON_UP_JUEL, TARGET, 15, (ARG:1*500), 0
ENDIF
;03射精経験
IF TALENT:オトコ || TALENT:ふたなり
	CALL COMMON_UP_EXP, TARGET, 3, (ARG:1*2), 0
	;LUNATIC以上は射精するたびに体力が減少
	CALL EXHAUST_EJAC, TARGET, ARG:1*2
ENDIF
;04精液経験
IF TALENT:MASTER:オトコ || TALENT:MASTER:ふたなり
	CALL COMMON_UP_EXP, TARGET, 4, (ARG:1*2), 0
	IF COM_ABLE_CHECK_FEMALE(TARGET) && TALENT:処女 == 0 && ARG:1*2 > 0
		C_NUMBER = MAX(RAND:(ARG:1*2 + 1), 0)
		CFLAG:3666 += C_NUMBER
		CALL CALCULATE_LIMIT, TARGET
	ENDIF
ENDIF
;02絶頂経験
CALL COMMON_UP_EXP, TARGET, 2, (ARG:1*2), 0
;12恭順の珠
CALL COMMON_UP_JUEL, TARGET, 12, (ARG*650), 0
;13欲情の珠
CALL COMMON_UP_JUEL, TARGET, 13, (ARG:1*600), 1
PRINTL 
;23キス経験
CALL COMMON_UP_EXP, MASTER, 23, ARG, 0
IF TALENT:MASTER:オトコ || TALENT:MASTER:ふたなり
	;03射精経験
	CALL COMMON_UP_EXP, MASTER, 3, (ARG:1/2), 0
	;LUNATIC以上は射精するたびに体力が減少
	CALL EXHAUST_EJAC, MASTER, ARG:1/2
ENDIF
IF TALENT:オトコ || TALENT:ふたなり
	;04精液経験
	CALL COMMON_UP_EXP, MASTER, 4, (ARG:1/2), 0
ENDIF
;02絶頂経験
CALL COMMON_UP_EXP, MASTER, 2, (ARG:1/2), 1
